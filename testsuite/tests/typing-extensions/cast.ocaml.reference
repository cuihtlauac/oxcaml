- : unit = ()
type 'b class_name = .. constraint 'b = < cast : 'a. 'a name -> 'a; .. >
and 'a name =
    Class : 'a class_name -> (< cast : 'a0. 'a0 name -> 'a0; .. > as 'a) name
exception Bad_cast
class type castable = object method cast : 'a name -> 'a end
class type foo_t = object method cast : 'a name -> 'a method foo : string end
type 'b class_name += Foo : foo_t class_name
class foo : foo_t
class type bar_t =
  object
    method bar : string
    method cast : 'a name -> 'a
    method foo : string
  end
type 'b class_name += Bar : bar_t class_name
class bar : bar_t
val clist : castable list ref @@ global many = {contents = []}
val push_castable : #castable -> unit @@ global many = <fun>
val pop_castable : unit -> castable @@ global many = <fun>
- : unit = ()
- : unit = ()
- : unit = ()
val c1 : castable @@ global many = <obj>
val c2 : castable @@ global many = <obj>
val c3 : castable @@ global many = <obj>
val f1 : foo @@ global many = <obj>
val f2 : foo @@ global many = <obj>
val f3 : foo @@ global many = <obj>
Exception: Bad_cast.
val b2 : bar @@ global many = <obj>
Exception: Bad_cast.

